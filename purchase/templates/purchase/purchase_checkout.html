{% extends 'base.html' %}
{% load crispy_forms_tags %}


{% block content %}

<div class="row justify-content-center">
    <div class="col-8">
      <label>First Name:</label>
      <input class="textinput textInput form-control mb-2" readonly value="{{ profile.user.first_name }}"> 
      <label>Last Name:</label>
      <input class="textinput textInput form-control mb-2" readonly value="{{ profile.user.last_name }}"> 
      <label>Program to purchase:</label>
      <input class="textinput textInput form-control mb-2" readonly value="{{ program.name }}"> 
      <label>Program price:</label>
      <input class="textinput textInput form-control mb-2" readonly value="{{ program.price }}â‚¬"> 
      <form action="" method="POST" id="payment-form">
          {% csrf_token %}
         {{ form | crispy }}
         <div class="textinput textInput form-control mb-4" id="card-element"><!--Stripe.js injects the Card Element--></div>
         <a href="" class="btn btn-dark">Back</a>
         <button class="btn btn-success" id="submit">
         <div class="spinner hidden" id="spinner"></div>
         <span id="button-text">Pay</span>
         </button>
      </form>
    </div>
</div>

{% endblock %}

{% block additionaljs %}
   {{ block.super }}
   {{ stripe_public_key|json_script:"id_stripe_public_key" }}
   {{ client_secret|json_script:"id_client_secret" }}
{% endblock %}